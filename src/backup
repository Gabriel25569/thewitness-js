let pathSize = Game._puzzle.options.pathSize;
            let coord = Game._puzzle.getNodeCoordinate(Game._snake.lastNode);
            
            // X and Y of "mouse cursor"
            let x = coord.x;
            let y = coord.y;

            let m;

            // Add offset on first movement
            // if (Game._snake.nodeStack.length == 1) {
            //     if (Game._snake.direction == DIRECTION.HORIZONTAL) {
            //         x = Math.floor(START_RADIUS * pathSize);
            //     } else /* DIRECTION.VERTICAL */ {
            //         y = Math.floor(START_RADIUS * pathSize);
            //     }
            // }

            if (Game._snake.direction == DIRECTION.HORIZONTAL) {
                x += mx;
                m = mx;
            } else {
                y += my
                m = my;
            }

            //let node = Game._puzzle.getNode(x, y);
            let node = null;
            console.log("Mouse: " + x + "; " + y);

            if (node == null) {
                console.log("Movement: " + m);
                Game._snake.move(m);
            } else if (node == Game._snake.lastNode) {
                 console.log("Ãºltimo");
                // Game._snake.resetMovement();
                // if (Game._snake.nodeStack.length != 1) {
                //     Game._snake.popNode();
                // }
            }
            else {
                console.log("novo");
                Game._snake.resetMovement();
                Game._snake.pushNode(node);
            }




            
                let lastNode = Game._snake.lastNode;

                let ways = Game._puzzle.getNodeWays(lastNode);
                let way;

                if (Math.abs(mx) > Math.abs(my)) {
                    if (mx > 0) {
                        way = NODE_WAY.RIGHT;
                    } else {
                        way = NODE_WAY.LEFT;
                    }

                    if (ways.includes(way)) {
                        Game._snake.direction = DIRECTION.HORIZONTAL;
                        Game._snake.move(mx);
                        console.log("X");
                    }
                } else {
                    if (my > 0) {
                        way = NODE_WAY.BOTTOM;
                    } else {
                        way = NODE_WAY.TOP;
                    }

                    if (ways.includes(way)) {
                        Game._snake.direction = DIRECTION.VERTICAL;
                        Game._snake.move(my);
                        console.log("Y");
                    }





                     Game._snake.pushNode();
        Game._snake.popNode();



        if (Game._snake.await) {
            let ways = Game._puzzle.getNodeWays(Game._snake.lastNode);
            let way;
            let direction;
            
            if (Game._snake.direction == DIRECTION.NONE) {
                if (Math.abs(mx) > Math.abs(my)) {
                    movement = mx;
                    my = 0;
                } else {
                    movement = my;
                    mx = 0;
                }
            } else if (Game._snake.direction == DIRECTION.HORIZONTAL) {
                movement = mx;
                my = 0;
            } else {
                movement = my;
                mx = 0;
            }
            
            if (mx > 0) {
                way = NODE_WAY.RIGHT;
                direction = DIRECTION.HORIZONTAL;
            } else if (mx < 0) {
                way = NODE_WAY.LEFT;
                direction = DIRECTION.HORIZONTAL;
            }

            if (my > 0) {
                way = NODE_WAY.BOTTOM;
                direction = DIRECTION.VERTICAL;
            } else if (my < 0) {
                way = NODE_WAY.TOP;
                direction = DIRECTION.VERTICAL;
            }

            if (ways.includes(way)) {
                Game._snake.move(movement);
                if (Math.abs(Game._snake.movement) > pathSize / 2) {
                    Game._snake.direction = direction;
                    Game._snake.await = false;
                }
            }
        } else {
            if (Game._snake.direction == DIRECTION.HORIZONTAL) {
                // movimento horizontal
                Game._snake.move(mx);

                if (Game._snake.movement > pathSize) {
                    console.log("estourou");
                } else if (Game._snake.movement < 0) {
                    console.log("voltou");
                }

                console.log("H");
 
            } else if (Game._snake.direction == DIRECTION.VERTICAL) { 
                // movimento vertical

                console.log("V");
            }
        }
        console.log(Game._snake.movement + " - " + Game._snake.await);